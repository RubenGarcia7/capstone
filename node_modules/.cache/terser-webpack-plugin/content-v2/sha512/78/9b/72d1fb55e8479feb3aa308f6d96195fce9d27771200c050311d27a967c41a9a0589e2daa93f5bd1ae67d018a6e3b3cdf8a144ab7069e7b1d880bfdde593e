{"code":"var Client=function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=1)}([function(e,t,n){},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"performAction\",(function(){return g})),n.d(t,\"validateForm\",(function(){return v}));n(0);const o=document.getElementById(\"city\"),r=document.getElementById(\"date-depart\"),a=document.getElementById(\"date-return\"),c=document.getElementById(\"countries\"),i=(document.getElementById(\"form\"),document.getElementById(\"countdown\"),document.getElementById(\"city-span\")),l=document.getElementById(\"weather-city\"),d=document.getElementById(\"weather-date\"),u=document.getElementById(\"weather-title\"),s=document.getElementById(\"weather-maxtemp\"),m=document.getElementById(\"weather-mintemp\"),y=document.getElementById(\"weather-img\"),f=document.getElementById(\"city-img\");document.getElementById(\"weather-dur-heading\"),document.getElementById(\"weather-dur-value\");function g(e){e.preventDefault();const t=o.value,n=r.value,i=a.value,l=c.value;Client.validateForm(t,n,i),w(l,t,n).then(e=>p(e,n)).then(e=>h(e))}const p=async(e,t)=>{console.log(e);const n=e.geonames[0].lat,o=e.geonames[0].lng;try{const e=await fetch(`http://localhost:8081/weather/${n}/${o}`),r=await e.json();console.log(r.data[void 0]);const a=r.city_name;return l.innerHTML=a+\", \"+r.country_code,d.innerHTML=t.split(\"-\").reverse().join(\"/\"),s.innerHTML=r.data[void 0].max_temp+\"°C\",m.innerHTML=r.data[void 0].min_temp+\"°C\",u.innerHTML=r.data[void 0].weather.description,y.src=`https://www.weatherbit.io/static/img/icons/${r.data[void 0].weather.icon}.png`,r}catch(e){console.log(\"Something went wrong: \"+e)}},w=async(e,t,n)=>{try{const n=await fetch(`http://localhost:8081/city/${e}/${t}`),o=await n.json();return i.innerHTML=o.geonames[0].name,o}catch(e){console.log(\"Something went wrong: \"+e)}},h=async e=>{const t=e.city_name;try{const e=await fetch(\"http://localhost:8081/img/\"+t),n=await e.json();console.log(n);const o=n.hits[0].webformatURL;return console.log(o),f.src=o,n}catch(e){console.log(\"Something went wrong: \"+e)}};function v(e,t,n){if(\"\"===e||null===e)return void alert(\"Please add your destination\");const o=new Date,r=new Date(t),a=new Date(n),c=r.getTime()-o.getTime(),i=a.getTime()-r.getTime();differenceDaysDep=Math.ceil(c/1e3/60/60/24);const l=i/1e3/60/60/24+1;differenceDaysDep<=0?alert(\"Please select a future date\"):(1===differenceDaysDep?countdownUI.innerHTML=differenceDaysDep+\" day left\":countdownUI.innerHTML=differenceDaysDep+\" days left\",l<=0?alert(\"Please retype your return date\"):1===l?(weatherDurHeading.style.display=\"block\",weatherDurValue.innerHTML=l+\" Day\"):(weatherDurHeading.style.display=\"block\",weatherDurValue.innerHTML=l+\" Days\"))}}]);","map":{"version":3,"sources":["main.8e0557e6f1e26368f779.js"],"names":["Client","modules","installedModules","__webpack_require__","moduleId","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","performAction","validateForm","destination","document","getElementById","dateDepart","dateReturn","countryList","cityUI","weatherCity","weatherDate","weatherTitle","weatherMaxTemp","weatherMinTemp","weatherImg","cityImg","event","preventDefault","userDestination","userDateDepart","userDateReturn","userCountry","getCityData","then","geoData","getWeatherData","newData","getImgData","async","console","log","lat","geonames","lon","lng","res","fetch","data","json","formExecution_differenceDaysDep","city","city_name","innerHTML","country_code","split","reverse","join","max_temp","min_temp","weather","description","src","icon","error","imgURL","hits","webformatURL","alert","today","Date","userDateDepartFormatted","userDateReturnFormatted","differenceMsDep","getTime","differenceMsDur","differenceDaysDep","Math","ceil","differenceDaysDur","countdownUI","weatherDurHeading","style","display","weatherDurValue"],"mappings":"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"},"extractedComments":[]}