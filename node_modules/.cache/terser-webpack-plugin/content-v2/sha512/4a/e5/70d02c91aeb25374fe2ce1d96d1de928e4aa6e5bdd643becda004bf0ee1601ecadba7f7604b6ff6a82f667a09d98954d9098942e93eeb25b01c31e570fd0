{"code":"var Client=function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=1)}([function(e,t,n){},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"performAction\",(function(){return B})),n.d(t,\"validateForm\",(function(){return L})),n.d(t,\"addEventListener\",(function(){return E}));n(0);const o=document.getElementById(\"city\"),r=document.getElementById(\"date-depart\"),a=document.getElementById(\"date-return\"),i=document.getElementById(\"countries\"),c=document.getElementById(\"form\"),l=document.getElementById(\"countdown\"),u=document.getElementById(\"countdown-text-1\"),d=document.getElementById(\"countdown-text-2\"),s=document.getElementById(\"city-span\"),m=document.getElementById(\"weather-city\"),y=document.getElementById(\"weather-date\"),g=document.getElementById(\"weather-title\"),f=document.getElementById(\"weather-maxtemp\"),p=document.getElementById(\"weather-mintemp\"),w=document.getElementById(\"weather-img\"),h=document.getElementById(\"city-img\"),b=document.getElementById(\"weather-dur-heading\"),v=document.getElementById(\"weather-dur-value\");function E(){c.addEventListener(\"submit\",B)}function B(e){e.preventDefault();const t=o.value,n=r.value,c=a.value,u=i.value;Client.validateForm(t,n,c,undefined);const d=l.innerHTML;I(u,t,n).then(e=>T(e,n,d)).then(e=>M(e))}const I=async(e,t,n)=>{try{const n=await fetch(`http://localhost:8081/city/${e}/${t}`),o=await n.json();return s.innerHTML=o.geonames[0].name,o}catch(e){console.log(\"Something went wrong: \"+e)}},T=async(e,t,n)=>{console.log(e);const o=e.geonames[0].lat,r=e.geonames[0].lng;try{const e=await fetch(`http://localhost:8081/weather/${o}/${r}`),a=await e.json();console.log(a.data[n]);const i=a.city_name;return m.innerHTML=i+\", \"+a.country_code,y.innerHTML=t.split(\"-\").reverse().join(\"/\"),f.innerHTML=a.data[n].max_temp+\"°C\",p.innerHTML=a.data[n].min_temp+\"°C\",g.innerHTML=a.data[n].weather.description,w.src=`https://www.weatherbit.io/static/img/icons/${a.data[n].weather.icon}.png`,a}catch(e){console.log(\"Something went wrong: \"+e)}},M=async e=>{const t=e.city_name;try{const e=await fetch(\"http://localhost:8081/img/\"+t),n=await e.json();console.log(n);const o=n.hits[0].webformatURL;return h.src=o,n}catch(e){console.log(\"Something went wrong: \"+e)}};function L(e,t,n,o){if(\"\"===e||null===e)return alert(\"Please add your destination\"),!1;const r=new Date,a=new Date(t),i=new Date(n),c=a.getTime()-r.getTime(),s=(i.getTime()-a.getTime())/1e3/60/60/24+1;if((o=Math.ceil(c/1e3/60/60/24))<=0)return alert(\"Please select a future date\"),!1;1===o?(l.innerHTML=\"\"+o,d.style.display=\"none\",u.style.display=\"inline-block\"):(l.innerHTML=\"\"+o,u.style.display=\"none\",d.style.display=\"inline-block\"),s<=0?alert(\"Please retype your return date\"):1===s?(b.style.display=\"block\",v.innerHTML=s+\" Day\"):(b.style.display=\"block\",v.innerHTML=s+\" Days\")}E()}]);","map":{"version":3,"sources":["main.5ad81e6a34958cab495b.js"],"names":["Client","modules","installedModules","__webpack_require__","moduleId","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","performAction","validateForm","addEventListener","destination","document","getElementById","dateDepart","dateReturn","countryList","variables_form","countdownUI","countdownUIText1","countdownUIText2","cityUI","weatherCity","weatherDate","weatherTitle","weatherMaxTemp","weatherMinTemp","weatherImg","cityImg","weatherDurHeading","weatherDurValue","e","preventDefault","userDestination","userDateDepart","userDateReturn","userCountry","variables_differenceDaysDep","daysToDepart","innerHTML","getCityData","then","geoData","getWeatherData","newData","getImgData","async","res","fetch","data","json","geonames","error","console","log","lat","lon","lng","city","city_name","country_code","split","reverse","join","max_temp","min_temp","weather","description","src","icon","imgURL","hits","webformatURL","differenceDaysDep","alert","today","Date","userDateDepartFormatted","userDateReturnFormatted","differenceMsDep","getTime","differenceDaysDur","Math","ceil","style","display"],"mappings":"AAAA,IAAIA,OACK,SAAUC,GAET,IAAIC,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUC,QAGnC,IAAIC,EAASJ,EAAiBE,GAAY,CACzCG,EAAGH,EACHI,GAAG,EACHH,QAAS,IAUV,OANAJ,EAAQG,GAAUK,KAAKH,EAAOD,QAASC,EAAQA,EAAOD,QAASF,GAG/DG,EAAOE,GAAI,EAGJF,EAAOD,QA0Df,OArDAF,EAAoBO,EAAIT,EAGxBE,EAAoBQ,EAAIT,EAGxBC,EAAoBS,EAAI,SAASP,EAASQ,EAAMC,GAC3CX,EAAoBY,EAAEV,EAASQ,IAClCG,OAAOC,eAAeZ,EAASQ,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEX,EAAoBiB,EAAI,SAASf,GACX,oBAAXgB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAeZ,EAASgB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAeZ,EAAS,aAAc,CAAEkB,OAAO,KAQvDpB,EAAoBqB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQpB,EAAoBoB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFAzB,EAAoBiB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOpB,EAAoBS,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRxB,EAAoB4B,EAAI,SAASzB,GAChC,IAAIQ,EAASR,GAAUA,EAAOoB,WAC7B,WAAwB,OAAOpB,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAH,EAAoBS,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRX,EAAoBY,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG9B,EAAoBiC,EAAI,GAIjBjC,EAAoBA,EAAoBkC,EAAI,GAnFpD,CAsFC,CAEJ,SAAU/B,EAAQD,EAASF,KAM3B,SAAUG,EAAQgC,EAAqBnC,GAE7C,aAEAA,EAAoBiB,EAAEkB,GAGtBnC,EAAoBS,EAAE0B,EAAqB,iBAAiB,WAAa,OAAsBC,KAC/FpC,EAAoBS,EAAE0B,EAAqB,gBAAgB,WAAa,OAAsBE,KAC9FrC,EAAoBS,EAAE0B,EAAqB,oBAAoB,WAAa,OAAsBG,KAGvFtC,EAAoB,GAI/B,MAAMuC,EAAcC,SAASC,eAAe,QACtCC,EAAaF,SAASC,eAAe,eACrCE,EAAaH,SAASC,eAAe,eACrCG,EAAcJ,SAASC,eAAe,aACtCI,EAAiBL,SAASC,eAAe,QAGzCK,EAAcN,SAASC,eAAe,aACtCM,EAAmBP,SAASC,eAAe,oBAC3CO,EAAmBR,SAASC,eAAe,oBAC3CQ,EAAST,SAASC,eAAe,aAEjCS,EAAcV,SAASC,eAAe,gBACtCU,EAAcX,SAASC,eAAe,gBACtCW,EAAeZ,SAASC,eAAe,iBACvCY,EAAiBb,SAASC,eAAe,mBACzCa,EAAiBd,SAASC,eAAe,mBACzCc,EAAaf,SAASC,eAAe,eACrCe,EAAUhB,SAASC,eAAe,YAClCgB,EAAoBjB,SAASC,eAAe,uBAC5CiB,EAAkBlB,SAASC,eAAe,qBAShD,SAASH,IAEPO,EAAeP,iBAAiB,SAAUF,GAI5C,SAASA,EAAcuB,GACrBA,EAAEC,iBAGF,MAAMC,EAAkBtB,EAAYnB,MAC9B0C,EAAiBpB,EAAWtB,MAC5B2C,EAAiBpB,EAAWvB,MAC5B4C,EAAcpB,EAAYxB,MAGhCvB,OAAOwC,aAAawB,EAAiBC,EAAgBC,EAvBnDE,WA0BF,MAAMC,EAAepB,EAAYqB,UAGjCC,EAAYJ,EAAaH,EAAiBC,GACvCO,KAAKC,GAAWC,EAAeD,EAASR,EAAgBI,IACxDG,KAAKG,GAAWC,EAAWD,IAMhC,MAAMJ,EAAcM,MAAOV,EAAaH,EAAiBC,KAEvD,IACE,MAAMa,QAAYC,MAAM,8BAA8BZ,KAAeH,KAC/DgB,QAAaF,EAAIG,OAIvB,OADA7B,EAAOkB,UAAYU,EAAKE,SAAS,GAAGrE,KAC7BmE,EAEP,MAAOG,GACPC,QAAQC,IAAI,yBAAyBF,KAKnCT,EAAiBG,MAAOJ,EAASR,EAAgBI,KACrDe,QAAQC,IAAIZ,GAEZ,MAAMa,EAAMb,EAAQS,SAAS,GAAGI,IAC1BC,EAAMd,EAAQS,SAAS,GAAGM,IAEhC,IACE,MAAMV,QAAYC,MAAM,iCAAiCO,KAAOC,KAC1DP,QAAaF,EAAIG,OACvBG,QAAQC,IAAIL,EAAKA,KAAKX,IAGtB,MAAMoB,EAAOT,EAAKU,UAQlB,OAPArC,EAAYiB,UAAYmB,EAAO,KAAOT,EAAKW,aAC3CrC,EAAYgB,UAAYL,EAAe2B,MAAM,KAAKC,UAAUC,KAAK,KACjEtC,EAAec,UAAYU,EAAKA,KAAKX,GAAc0B,SAAW,KAC9DtC,EAAea,UAAYU,EAAKA,KAAKX,GAAc2B,SAAW,KAC9DzC,EAAae,UAAYU,EAAKA,KAAKX,GAAc4B,QAAQC,YACzDxC,EAAWyC,IAAM,8CAA8CnB,EAAKA,KAAKX,GAAc4B,QAAQG,WAExFpB,EAEP,MAAOG,GACPC,QAAQC,IAAI,yBAAyBF,KAMnCP,EAAaC,MAAOF,IAExB,MAAMc,EAAOd,EAAQe,UAErB,IACE,MAAMZ,QAAYC,MAAM,6BAA6BU,GAC/CT,QAAaF,EAAIG,OACvBG,QAAQC,IAAIL,GAGZ,MAAMqB,EAASrB,EAAKsB,KAAK,GAAGC,aAK5B,OAFA5C,EAAQwC,IAAME,EAEPrB,EAEP,MAAOG,GACPC,QAAQC,IAAI,yBAAyBF,KAQzC,SAAS3C,EAAawB,EAAiBC,EAAgBC,EAAgBsC,GAGrE,GAAwB,KAApBxC,GAA8C,OAApBA,EAE5B,OADAyC,MAAM,gCACC,EAIT,MAAMC,EAAQ,IAAIC,KAGZC,EAA0B,IAAID,KAAK1C,GACnC4C,EAA0B,IAAIF,KAAKzC,GAGnC4C,EAAkBF,EAAwBG,UAAYL,EAAMK,UAS5DC,GANkBH,EAAwBE,UAAYH,EAAwBG,WAMvC,IAAO,GAAK,GAAK,GAAM,EAGpE,IANAP,EAAoBS,KAAKC,KAAKJ,EAAkB,IAAO,GAAK,GAAK,MAMxC,EAEvB,OADAL,MAAM,gCACC,EAGwB,IAAtBD,GACTvD,EAAYqB,UAAY,GAAGkC,EAC3BrD,EAAiBgE,MAAMC,QAAU,OACjClE,EAAiBiE,MAAMC,QAAU,iBAGjCnE,EAAYqB,UAAY,GAAGkC,EAC3BtD,EAAiBiE,MAAMC,QAAU,OACjCjE,EAAiBgE,MAAMC,QAAU,gBAI/BJ,GAAqB,EACvBP,MAAM,kCAIyB,IAAtBO,GACTpD,EAAkBuD,MAAMC,QAAU,QAClCvD,EAAgBS,UAAY0C,EAAoB,SAEhDpD,EAAkBuD,MAAMC,QAAU,QAClCvD,EAAgBS,UAAY0C,EAAoB,SAgBpDvE"},"extractedComments":[]}